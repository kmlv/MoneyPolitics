{% load otree_tags staticfiles %}
{% load i18n %}

<div class="instructions well well-lg">

    <h3 class="panel-sub-heading">
        {% blocktrans trimmed %}
        Instructions
        {% endblocktrans %}
    </h3>

    <h5>
      {% blocktrans trimmed %}
      General Idea
      {% endblocktrans %}
    </h5>

  {% if tax_system == 'tax_rate' %}
    <p>
        {% blocktrans trimmed %}
        This experiment consists of 2 rounds of interaction. At the beginning of each 
        round, you will be randomly assigned to a group of nine citizens. All rounds 
        will have a similar structure and rules: You will first perform a task. Your 
        initial wealth will be determined by your performance in the task or by luck. 
        Then all the citizens will choose a tax level that will apply to the whole 
        group. 
        {% endblocktrans %}
    </p>
  {% elif tax_system == 'progressivity' %}    
    <p>
      {% blocktrans trimmed %}
      This experiment consists of 2 rounds of interaction. At the beginning of each 
      round, you will be randomly assigned to a group of nine citizens. All rounds 
      will have a similar structure and rules: You will first perform a task. Your 
      initial wealth will be determined by your performance in the task or by luck. 
      Then all the citizens will choose a tax system that will apply to the whole 
      group. 
      {% endblocktrans %}
    </p>
  {% endif %}
  {% if msg_type != 'none' %}
    <p>
      Before choosing the tax level, you may receive the chance to send a message 
      to other citizens. We detail the rules below.
    </p>
  {% else %}
  {% endif %}
    <h5>
      {% blocktrans trimmed %}
        Generating Initial Wealth
      {% endblocktrans %}
    </h5>

    <p>
      {% blocktrans trimmed %}
      In every round, every citizen will perform a task. After the task, the 
      computer will generate a ranking of performance in the task for all nine 
      citizens. Your position in the ranking may or may not determine your 
      initial wealth following a probabilistic rule.
      {% endblocktrans %}
    </p>

    <p>
      {% blocktrans trimmed %}
      There will be six wealth levels: 9, 15, 25, 40, 80, and 125. If your wealth is 
      generated by your ranking the following table will apply:
      {% endblocktrans %}
    </p>


    <p>
      <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;}
        .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
          overflow:hidden;padding:20px 20px;word-break:normal;}
        .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
          font-weight:normal;overflow:hidden;padding:20px 20px;word-break:normal;}
        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
        </style>
        <table class="tg">
        <thead>
          <tr>
            <th class="tg-0pky">Ranking in task</th>
            <th class="tg-0pky">1st</th>
            <th class="tg-0pky">2nd</th>
            <th class="tg-0pky">3rd</th>
            <th class="tg-0pky">4th</th>
            <th class="tg-0pky">5th</th>
            <th class="tg-0pky">6th</th>
            <th class="tg-0pky">7th</th>
            <th class="tg-0pky">8th</th>
            <th class="tg-0pky">9th</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="tg-0pky">Initial Wealth (Points)</td>
            <td class="tg-0pky">125 points</td>
            <td class="tg-0pky">80 points</td>
            <td class="tg-0pky">40 points</td>
            <td class="tg-0pky">25 points</td>
            <td class="tg-0pky">25 points</td>
            <td class="tg-0pky">15 points</td>
            <td class="tg-0pky">15 points</td>
            <td class="tg-0pky">15 points</td>
            <td class="tg-0pky">9 points</td>
          </tr>
        </tbody>
        </table>
  </p>


  <p>
    {% blocktrans trimmed %}
    Notice there are nine citizens, but only six different wealth levels. 
    Two citizens, ranks 4 and 5, both have wealth level 25, and three citizens, 
    ranks 6, 7 and 8, each have wealth level 15.
    {% endblocktrans %}
  </p>

  <p> 
    {% blocktrans trimmed %}
    After the effort task, your ranking will be determined, and the 
    the computer will flip a virtual coin. If it comes 
    up heads, all citizens will have their initial wealth determined by their 
    ranking in the task as shown in the table above. If it comes up tails, every citizen's
    wealth will be randomly shuffled and intial wealth will be based completely on luck.
    {% endblocktrans %}
  </p>

  {% if tax_system == 'tax_rate' %}
  <h5>
    {% blocktrans trimmed %}
    Selecting a Tax Rate for the Group
    {% endblocktrans %}
  </h5>

  <p>
    {% blocktrans trimmed %}
    citizens’ initial wealth levels help to determine their earnings in the 
    experiment by serving as a potential resource that they may invest in an economic 
    activity. Exactly how much each citizen earns is also determined by (1) the amounts 
    of public goods (analogous to roads, bridges, public transit, and other government 
    services in the real world) that are funded by taxes paid by the citizens, and 
    (2) the amount of tax that each individual pays. In general, you’ll earn more if 
    there are more public goods being funded by the tax payments of the group as a whole, 
    and you’ll earn more if the amount of tax that you personally pay is lower, since 
    paying more tax leaves you less to put into your own economic activity. 
    {% endblocktrans %}
  </p>

  <p>
    {% blocktrans trimmed %}
    Once all citizens have been informed of their initial wealth levels, the group 
    will collectively decide the tax level (from 0-100%) that will be binding for all citizens. 
    Each person will vote for a tax rate that they would like to be applied to all 
    citizens, themselves included. Once the votes are submitted, the median of all 
    submitted preferred tax rates will be determined and selected as the tax rate 
    applicable to the group. 
    {% endblocktrans %}
  </p>

  {% elif tax_system == 'progressivity' %}    
  <h5>
    {% blocktrans trimmed %}
    Selecting a Tax System for the Group
    {% endblocktrans %}
  </h5>

  <p>
    {% blocktrans trimmed %}
    citizens’ initial wealth levels help to determine their earnings in the 
    experiment by serving as a potential resource that they may invest in an economic 
    activity. Exactly how much each citizen earns is also determined by (1) the amounts 
    of public goods (analogous to roads, bridges, public transit, and other government 
    services in the real world) that are funded by taxes paid by the citizens, and 
    (2) the amount of tax that each individual pays. In general, you’ll earn more if 
    there are more public goods being funded by the tax payments of the group as a whole, 
    and you’ll earn more if the amount of tax that you personally pay is lower, since 
    paying more tax leaves you less to put into your own economic activity. 
    {% endblocktrans %}
  </p>

  <p>
    {% blocktrans trimmed %}
    Once all citizens have been informed of their initial wealth levels, the group 
    will collectively decide the a set of tax rates called "tax system" that will be binding
    for all citizens. Each person will vote for a tax system that they would like to be applied to all 
    citizens, themselves included. Once the votes are submitted, the median of all 
    submitted preferred tax systems will be determined and selected as the tax rate 
    applicable to the group. 
    {% endblocktrans %}
  </p>
  {% endif %}  

  
  <h6>
    {% blocktrans trimmed %}
    How is the median determined?
    {% endblocktrans %}
  </h6>

  <p>
    {% blocktrans trimmed %}
    In the context of nine values, the median M is defined as the value such that 
    there are five numbers that are smaller than or equal to M; and there are five 
    numbers that are greater than or equal to M. For example, suppose you and your 
    friends must all choose an amount to contribute to pay for the food at a party. 
    You select $5, and the other eight citizens of your group have chosen: $1, 
    $4, $8, $9, $10, $7, $8, $2. To find the median number, you can sort from low to 
    high as in the table below, then find the number in the middle position 
    (position 5). That is the median.
    {% endblocktrans %}
  </p>

  <style type="text/css">
    .tg  {border-collapse:collapse;border-spacing:0;}
    .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      overflow:hidden;padding:20px 20px;word-break:normal;}
    .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      font-weight:normal;overflow:hidden;padding:20px 20px;word-break:normal;}
    .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
    </style>
    <table class="tg">
    <thead>
      <tr>
        <th class="tg-0pky">Number Order</th>
        <th class="tg-0pky">1</th>
        <th class="tg-0pky">2</th>
        <th class="tg-0pky">3</th>
        <th class="tg-0pky">4</th>
        <th class="tg-0pky"><span style="font-weight:bold">5</span></th>
        <th class="tg-0pky">6</th>
        <th class="tg-0pky">7</th>
        <th class="tg-0pky">8</th>
        <th class="tg-0pky">9</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="tg-0pky">Contribution</td>
        <td class="tg-0pky">$2</td>
        <td class="tg-0pky">$3</td>
        <td class="tg-0pky">$3</td>
        <td class="tg-0pky">$6</td>
        <td class="tg-0pky"><span style="font-weight:bold">$6</span></td>
        <td class="tg-0pky">$9</td>
        <td class="tg-0pky">$10</td>
        <td class="tg-0pky">$12</td>
        <td class="tg-0pky">$16</td>
      </tr>
    </tbody>
    </table>

  <p>
    <!-- Spacer -->
  </p>

  <p>
    {% blocktrans trimmed %}
    The median in the example would be $6, which is the middle amount in a sorted 
    list. When you and other citizens select a tax rate, the median amount will 
    be computed in this fashion.
    {% endblocktrans %}
  </p>

 {% if tax_system == 'tax_rate' %}   
  <h5>
    {% blocktrans trimmed %}
    Messaging Before Selecting Group Tax Rate
    {% endblocktrans %}
  </h5>
{% elif tax_system == 'progressivity' %} 
  <h5>
    {% blocktrans trimmed %}
    Messaging Before Selecting Group Tax System
    {% endblocktrans %}
  </h5>
{% endif %}

  {% if msg_type == 'single' %}
    <p>
      {% blocktrans trimmed %}
      After assignment of wealth, each citizen will be given the chance to send a 
      message to any, some, or all other citizens. You will compose the message to 
      other citizens a box like the one below, and use the checkboxes to select 
      the citizens to whom you would like to send the message.
      {% endblocktrans %}
    </p>
    
    <img src="{% static 'MoneyPolitics/single_msg.PNG' %}"/>

    <p>
      {% blocktrans trimmed %}
      For example, if you write “AAA” in the box, and check wealth 125 above, that means 
      that the citizen with a wealth of 125 points will receive that message “AAA.”
      All messages are delivered after everyone has finished writing their messages. 
      Messages are unidirectional, which means there will be no opportunity for back 
      and forth communication. Please note that you may not send a message that contains 
      inappropriate language, that conveys a threat, or that tells the others your name 
      or other identifying information, but any other message is fine. 
      {% endblocktrans %}
    </p>
    <p>
      {% blocktrans trimmed %}
      You’ll have to spend some of your wealth if you want to send a message. The total 
      amount of points spent on the messaging is equal to the total number of messages 
      you send times the cost per message of {{ message_cost }} points. This total cost 
      will be subtracted from the initial wealth.
      {% endblocktrans %}
    </p>

  {% elif msg_type == 'double' %}
    <p>
      {% blocktrans trimmed %}
      After assignment of wealth, each citizen will be given the chance to send one or 
      two messages to any, some, or all other citizens. You will compose messages to 
      other citizens in boxes like the ones below, and use the checkboxes to select 
      the citizens to whom you would like to send the corresponding message.
      {% endblocktrans %}
    </p>
    
    <img src="{% static 'MoneyPolitics/dual_msg.PNG' %}" />

    <p>
      {% blocktrans trimmed %}
      For example, if you write “AAA” in box 1, and check wealth 125 above, that means 
      that the citizen with a wealth of 125 points will receive that message “AAA.”
      All messages are delivered after everyone has finished writing their messages. 
      Messages are unidirectional, which means there will be no opportunity for back 
      and forth communication. Please note that you may not send a message that contains 
      inappropriate language, that conveys a threat, or that tells the others your name 
      or other identifying information, but any other message is fine. 
      {% endblocktrans %}
    </p>
    <p>
      {% blocktrans trimmed %}
      You’ll have to spend some of your wealth if you want to send messages. The total 
      amount of points spent on the messaging is equal to the total number of messages 
      you send times the cost per message of {{ message_cost }} points. This total cost 
      will be subtracted from the initial wealth.
      {% endblocktrans %}
    </p>
  {% endif %}


  <h5>
    {% blocktrans trimmed %}
    Payoffs
    {% endblocktrans %}
  </h5>

{% if msg_type == 'tax_rate' %}  
  {% if msg_type != 'none' %}
    <p>
      {% blocktrans trimmed %}
      The payoff for the round is calculated as follows. First, the total cost of the 
      messages you sent is subtracted from your initial wealth. Then each citizen's 
      wealth is taxed at the chosen (median) tax rate. This generates two relevant values: 
      what is left after taxes (a private resource) and the total amount of tax revenue 
      (viewed as resources that fund public goods). 
      {% endblocktrans %}
    </p>
  {% else %}
    <p>
      {% blocktrans trimmed %}
      The payoff for the round is calculated as follows. First, each citizen's 
      wealth is taxed at the chosen (median) tax rate. This generates two relevant values: 
      what is left after taxes (a private resource) and the total amount of tax revenue 
      (viewed as resources that fund public goods). 
      {% endblocktrans %}
    </p>
  {% endif %}
{% elif msg_type == 'progressivity' %}
  <p>
    {% blocktrans trimmed %}
    The payoff for the round is calculated as follows. First, the total cost of the 
    messages you sent is subtracted from your initial wealth. Then each citizen's 
    wealth is taxed by the respective tax according to the chosen (median) tax system. 
    This generates two relevant values: 
    what is left after taxes (a private resource) and the total amount of tax revenue 
    (viewed as resources that fund public goods). 
    {% endblocktrans %}
  </p>
{% endif %}
  <p>
    {% blocktrans trimmed %}
    The payoff takes into consideration the resources that have been paid to the 
    government. In particular, we consider the direct benefit from public goods 
    (ex.: the benefit of social security, or unemployment insurance) and the indirect 
    benefit via positive effects of public goods on our own private productivity 
    (ex.: the benefit that companies receive from having roads and private property 
    rights).
    {% endblocktrans %} 
  </p>

{% if tax_system == 'tax_rate' %}  
  <p>
    {% blocktrans trimmed %}
    To better understand how these payoffs work, please see the table 
    below that shows a citizen's potential payoff based on their initial wealth level 
    and tax rate.
    {% endblocktrans %} 
  </p>


  <style type="text/css">
    .tg  {border-collapse:collapse;
          border-spacing:0;
          margin-left: 0 auto;
          margin-right: 0 auto;
          margin: 0 auto}
    .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg .tg-18eh{border-color:#000000;font-weight:bold;text-align:center;vertical-align:middle}
    .tg .tg-7fxq{background-color:#0f3f70;border-color:#000000;color:#ffffff;font-weight:bold;text-align:center;vertical-align:middle}
    .tg .tg-fkev{background-color:#0f3f70;border-color:#000000;color:#ffffff;font-weight:bold;text-align:center;vertical-align:bottom}
    .tg .tg-fija{background-color:#0F3F70;color:#FFF;font-weight:bold;text-align:center;vertical-align:bottom}
    .tg .tg-kvxc{border-color:#000000;text-align:left;vertical-align:bottom}
    .tg .tg-7zrl{text-align:left;vertical-align:bottom}
    .tg .tg-c5m2{border-color:#000000;font-weight:bold;text-align:center;vertical-align:middle}
    .tg .tg-ghql{border-color:#000000;text-align:left;vertical-align:bottom}
    .tg .tg-fhtw{text-align:left;vertical-align:bottom}
    </style>
    <table class="tg">
    <thead>
      <tr>
        <th class="tg-7fxq" rowspan="2">Initial Wealth (Points)</th>
        <th class="tg-7fxq" colspan="11">Tax Rates (%)</th>
      </tr>
      <tr>
        <td class="tg-fkev">0</td>
        <td class="tg-fkev">10</td>
        <td class="tg-fkev">20</td>
        <td class="tg-fkev">30</td>
        <td class="tg-fkev">40</td>
        <td class="tg-fija">50</td>
        <td class="tg-fija">60</td>
        <td class="tg-fija">70</td>
        <td class="tg-fija">80</td>
        <td class="tg-fija">90</td>
        <td class="tg-fija">100</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="tg-18eh">9</td>
        <td class="tg-kvxc">45</td>
        <td class="tg-kvxc">60</td>
        <td class="tg-kvxc">72</td>
        <td class="tg-kvxc">84</td>
        <td class="tg-kvxc">98</td>
        <td class="tg-7zrl">115</td>
        <td class="tg-7zrl">116</td>
        <td class="tg-7zrl">100</td>
        <td class="tg-7zrl">85</td>
        <td class="tg-7zrl">70</td>
        <td class="tg-7zrl">54</td>
      </tr>
      <tr>
        <td class="tg-c5m2">15</td>
        <td class="tg-ghql">75</td>
        <td class="tg-ghql">98</td>
        <td class="tg-ghql">117</td>
        <td class="tg-ghql">132</td>
        <td class="tg-ghql">147</td>
        <td class="tg-fhtw">163</td>
        <td class="tg-fhtw">156</td>
        <td class="tg-fhtw">131</td>
        <td class="tg-fhtw">105</td>
        <td class="tg-fhtw">80</td>
        <td class="tg-fhtw">54</td>
      </tr>
      <tr>
        <td class="tg-18eh">25</td>
        <td class="tg-kvxc">125</td>
        <td class="tg-kvxc">163</td>
        <td class="tg-kvxc">192</td>
        <td class="tg-kvxc">213</td>
        <td class="tg-kvxc">230</td>
        <td class="tg-7zrl">242</td>
        <td class="tg-7zrl">224</td>
        <td class="tg-7zrl">182</td>
        <td class="tg-7zrl">139</td>
        <td class="tg-7zrl">97</td>
        <td class="tg-7zrl">54</td>
      </tr>
      <tr>
        <td class="tg-c5m2">40</td>
        <td class="tg-ghql">200</td>
        <td class="tg-ghql">260</td>
        <td class="tg-ghql">304</td>
        <td class="tg-ghql">334</td>
        <td class="tg-ghql">353</td>
        <td class="tg-fhtw">362</td>
        <td class="tg-fhtw">326</td>
        <td class="tg-fhtw">258</td>
        <td class="tg-fhtw">190</td>
        <td class="tg-fhtw">122</td>
        <td class="tg-fhtw">54</td>
      </tr>
      <tr>
        <td class="tg-18eh">80</td>
        <td class="tg-kvxc">400</td>
        <td class="tg-kvxc">518</td>
        <td class="tg-kvxc">604</td>
        <td class="tg-kvxc">658</td>
        <td class="tg-kvxc">683</td>
        <td class="tg-7zrl">680</td>
        <td class="tg-7zrl">598</td>
        <td class="tg-7zrl">462</td>
        <td class="tg-7zrl">326</td>
        <td class="tg-7zrl">190</td>
        <td class="tg-7zrl">54</td>
      </tr>
      <tr>
        <td class="tg-c5m2">125</td>
        <td class="tg-ghql">625</td>
        <td class="tg-ghql">809</td>
        <td class="tg-ghql">941</td>
        <td class="tg-ghql">1021</td>
        <td class="tg-ghql">1053</td>
        <td class="tg-fhtw">1038</td>
        <td class="tg-fhtw">904</td>
        <td class="tg-fhtw">692</td>
        <td class="tg-fhtw">479</td>
        <td class="tg-fhtw">267</td>
        <td class="tg-fhtw">54</td>
      </tr>
    </tbody>
    </table>

    <p>
      <!-- Spacer -->
    </p>

    <p>
      {% blocktrans trimmed %}
      Similarly, the following graphs show the payoffs for every tax rate. Each wealth 
      level has its own graph where you can see the relationship between the round 
      payoff and the group-chosen tax rate.
      {% endblocktrans %} 
    </p>

    <style type="text/css">
      .tg  {border-collapse:collapse;
            border-spacing:0;
            margin-left: 0 auto;
            margin-right: 0 auto;
            margin: 0 auto}
      .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg .tg-zv4m{border-color:#ffffff;text-align:left;vertical-align:top}
      </style>
      <table class="tg" style="margin: 0px auto;">
      <thead>
        <tr>
          <th class="tg-zv4m">
              <div id="income-9" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 9"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;45\n10;59.528\n20;71.88\n30;83.897\n40;98.053\n50;114.98\n60;115.604\n70;100.304\n80;85.004\n90;69.704\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};/*
                  */new Highcharts.Chart("income-9", options);}}})();
                  </script>
          </th>
          <th class="tg-zv4m">
              <div id="income-15" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 15"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;75\n10;98.307\n20;116.82\n30;132.38\n40;147.463\n50;162.699\n60;156.404\n70;130.904\n80;105.404\n90;79.904\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};
                  new Highcharts.Chart("income-15", options);}}})();
                  </script>
          </th>
          <th class="tg-zv4m">
              <div id="income-25" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 25"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;125\n10;162.938\n20;191.72\n30;213.187\n40;229.813\n50;242.23\n60;224.404\n70;181.904\n80;139.404\n90;96.904\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};
                  new Highcharts.Chart("income-25", options);}}})();
                  </script>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="tg-zv4m">
              <div id="income-40" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 40"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;200\n10;259.885\n20;304.07\n30;334.396\n40;353.338\n50;361.527\n60;326.404\n70;258.404\n80;190.404\n90;122.404\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};
                  new Highcharts.Chart("income-40", options);}}})();
                  </script>
          </td>
          <td class="tg-zv4m">
              <div id="income-80" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 80"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;400\n10;518.41\n20;603.67\n30;657.621\n40;682.738\n50;679.652\n60;598.404\n70;462.404\n80;326.404\n90;190.404\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};
                  new Highcharts.Chart("income-80", options);}}})();
                  </script>
          </td>
          <td class="tg-zv4m">
              <div id="income-125" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){ 
                  var yAxisLabels = [0,250,500,750,1000,1250];
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],loaded = 0; if (typeof window["HighchartsEditor"] === "undefined") 
                  {window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};
                  include(files[0]);} else {if (window.HighchartsEditor.hasLoaded) {cl();} else {window.HighchartsEditor.ondone.push(cl);}}
                  function isScriptAlreadyIncluded(src)
                      {var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) 
                          {if (scripts[i].hasAttribute("src")) 
                              {if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}}}return false;}
                          function check() 
                              {if (loaded === files.length) 
                                  {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                                      {try {window.HighchartsEditor.ondone[i]();} catch(e) 
                                          {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}}
                          function include(script) 
                              {function next() 
                                  {++loaded;
                                      if (loaded < files.length) 
                                          {include(files[loaded]);}check();}
                                              if (isScriptAlreadyIncluded(script)) 
                                              {return next();}
                          var sc=document.createElement("script");
                          sc.src = script;sc.type="text/javascript";
                          sc.onload=function() { next(); };document.head.appendChild(sc);}
                          function each(a, fn)
                              {if (typeof a.forEach !== "undefined")
                                  {a.forEach(fn);}
                              else
                                  {for (var i = 0; i < a.length; i++)
                                      {if (fn) {fn(a[i]);}}}}var inc = {},incl=[]; each(document.querySelectorAll("script"), 
                                          function(t) 
                                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                                      function cl() 
                                          {if(typeof window["Highcharts"] !== "undefined")
                                              {var options={"title":{"text":"Initial Wealth 125"},
                                                            "exporting":{},
                                                            "chart":{"type":"line"},
                                                            "series":[{"name":"Payoff"}],
                                                            "plotOptions":{"series":{"animation":false}},
                                                            "data":{"csv":"\"Column 1\";\"Payoff\"\n0;652\n10;809.251\n20;940.72\n30;1021.249\n40;1053.313\n50;1037.543\n60;904.404\n70;691.904\n80;479.404\n90;266.904\n100;54.404",
                                                            "googleSpreadsheetKey":false,
                                                            "googleSpreadsheetWorksheet":false},
                                                            "credits":{"enabled": false},
                                                            "legend":{"enabled":false},
                                                            "xAxis":[{"title":{"text":"Tax Rate (%)"},
                                                                      "labels":{}}],
                                                            "yAxis":[{"title":{"text":"Payoff (Points)"},
                                                                      "tickPositioner": function() {return yAxisLabels;}}]};
                  new Highcharts.Chart("income-125", options);}}})();
                  </script>
          </td>
        </tr>
      </tbody>
      </table>

{% elif tax_system == 'progressivity' %}    

<p>
  {% blocktrans trimmed %}
  To better understand how these payoffs work, please see the table 
  below that shows a citizen's potential payoff based on their initial wealth level 
  and tax system.
  {% endblocktrans %} 
</p>
      
<style type="text/css">
  .tg  {border-collapse:collapse;
        border-spacing:0;
        margin-left: 0 auto;
        margin-right: 0 auto;
        margin: 0 auto}
  .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
    overflow:hidden;padding:10px 5px;word-break:normal;}
  .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
    font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
  .tg .tg-18eh{border-color:#000000;font-weight:bold;text-align:center;vertical-align:middle}
  .tg .tg-7fxq{background-color:#0f3f70;border-color:#000000;color:#ffffff;font-weight:bold;text-align:center;vertical-align:middle}
  .tg .tg-f18s{background-color:#0f3f70;border-color:#000000;color:#ffffff;text-align:center;vertical-align:middle}
  .tg .tg-xwyw{border-color:#000000;text-align:center;vertical-align:middle}
  .tg .tg-c5m2{border-color:#000000;font-weight:bold;text-align:center;vertical-align:middle}
  .tg .tg-53it{border-color:#000000;text-align:center;vertical-align:middle}

  </style>
  <table class="tg">
  <thead>
    <tr>
      <th class="tg-7fxq" rowspan="2">Initial Wealth (points)</th>
      <th class="tg-7fxq" colspan="5">Tax Systems</th>
    </tr>
    <tr>
      <td class="tg-f18s">System 1</td>
      <td class="tg-f18s">System 2</td>
      <td class="tg-f18s">System 3</td>
      <td class="tg-f18s">System 4</td>
      <td class="tg-f18s">System 5</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="tg-18eh">9</td>
      <td class="tg-xwyw">98</td>
      <td class="tg-xwyw">110</td>
      <td class="tg-xwyw">123</td>
      <td class="tg-xwyw">134</td>
      <td class="tg-xwyw">147</td>
    </tr>
    <tr>
      <td class="tg-c5m2">15</td>
      <td class="tg-53it">147</td>
      <td class="tg-53it">163</td>
      <td class="tg-53it">180</td>
      <td class="tg-53it">200</td>
      <td class="tg-53it">229</td>
    </tr>
    <tr>
      <td class="tg-18eh">25</td>
      <td class="tg-xwyw">230</td>
      <td class="tg-xwyw">248</td>
      <td class="tg-xwyw">269</td>
      <td class="tg-xwyw">296</td>
      <td class="tg-xwyw">345</td>
    </tr>
    <tr>
      <td class="tg-c5m2">40</td>
      <td class="tg-53it">353</td>
      <td class="tg-53it">371</td>
      <td class="tg-53it">392</td>
      <td class="tg-53it">418</td>
      <td class="tg-53it">427</td>
    </tr>
    <tr>
      <td class="tg-18eh">80</td>
      <td class="tg-xwyw">683</td>
      <td class="tg-xwyw">672</td>
      <td class="tg-xwyw">639</td>
      <td class="tg-xwyw">610</td>
      <td class="tg-xwyw">537</td>
    </tr>
    <tr>
      <td class="tg-c5m2">125</td>
      <td class="tg-53it">1053</td>
      <td class="tg-53it">949</td>
      <td class="tg-53it">855</td>
      <td class="tg-53it">733</td>
      <td class="tg-53it">599</td>
    </tr>
  </tbody>
  </table>

    <p>
      <!-- Spacer -->
    </p>

    <p>
      {% blocktrans trimmed %}
      Similarly, the following graphs show the payoffs for every tax system. Each wealth 
      level has its own graph where you can see the relationship between the round 
      payoff and the group-chosen tax system.
      {% endblocktrans %} 
    </p>

    <style type="text/css">
      .tg  {border-collapse:collapse;border-spacing:0;}
      .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg .tg-zv4m{border-color:#ffffff;text-align:left;vertical-align:top}
      </style>
      <table class="tg">
      <thead>
        <tr>
          <th class="tg-zv4m">
              <div id="highcharts-1" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (function(){var yAxisLabels = [0,10,20,30,40,50,60,70,80,90,100];
                  /*
                  System 1
                  */
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],
                  loaded = 0; 
                  if (typeof window["HighchartsEditor"] === "undefined") {
                      window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};include(files[0]);
                      }
                  
                  else {
                      if (window.HighchartsEditor.hasLoaded) {cl();} 
                      else {window.HighchartsEditor.ondone.push(cl);}
                      }
                  
                  function isScriptAlreadyIncluded(src){
                      var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) {
                          if (scripts[i].hasAttribute("src")){
                              if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}
                                  }
                              }
                              return false;}
                  
                  function check() {
                      if (loaded === files.length) {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                          {try {window.HighchartsEditor.ondone[i]();} 
                          catch(e) {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}
                          }
                  
                  function include(script) {
                      function next() {++loaded;if (loaded < files.length) {include(files[loaded]);}check();}
                      if (isScriptAlreadyIncluded(script)) {return next();}
                          var sc=document.createElement("script");sc.src = script;sc.type="text/javascript";sc.onload=function() { next(); };
                          document.head.appendChild(sc);}function each(a, fn)
                              {if (typeof a.forEach !== "undefined"){a.forEach(fn);}
                              else{for (var i = 0; i < a.length; i++){if (fn) {fn(a[i]);}}}}
                              var inc = {},incl=[]; each(document.querySelectorAll("script"), function(t) 
                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                              function cl() {if(typeof window["Highcharts"] !== "undefined"){
                                  Highcharts.setOptions({lang:{}});
                                  var options={"title":{"text":"System 1"}, 
                                               "subtitle":{"text":""},
                                               "exporting":{"scale":1},
                                               "chart":{"type":"column",
                                                        "polar":false},
                                               "plotOptions":{"series":{"pointPadding":0.2,
                                                                        "groupPadding":0,
                                                                        "borderWidth":0,
                                                                        "shadow":false,
                                                                        "dataLabels":{"enabled":false},"animation":false}},
                                                                        "series":[{"name":"Tax Rate","turboThreshold":0,"marker":{}}],
                                                                        "data":{"csv":"\"Column 1\";\"Tax Rate (%)\"\n1;40\n2;40\n3;40\n4;40\n5;40\n6;40",
                                                                                "googleSpreadsheetKey":false,
                                                                                "googleSpreadsheetWorksheet":false},
                                                                        "pane":{"background":[]},
                                                                        "responsive":{"rules":[]},
                                                                        "legend":{"enabled":false},
                                                                        "tooltip":{},
                                                                        "lang":{},
                                                                        "credits":{"enabled": false},
                                                                        "xAxis":[{"categories": ["", "9", "15", "25", "40", "80", "125"], 
                                                                                  "title":{"text":"Initial Wealth (in points)"},
                                                                                  "labels":{}}],
                                                                        "yAxis":[{"title":{"text":"Tax rates (%)"},
                                                                                  "tickPositioner": function() {return yAxisLabels;},
                                                                                  "labels":{}}]};
                  new Highcharts.Chart("highcharts-1", options);}}})();
              </script>            
          </th>
          <th class="tg-zv4m">
              <div id="highcharts-2" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (
                  function(){var yAxisLabels = [0,10,20,30,40,50,60,70,80,90,100];
                  /*
                  System 2
                  */
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],
                  loaded = 0; 
                  if (typeof window["HighchartsEditor"] === "undefined") {
                      window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};include(files[0]);
                      }
                          
                  else {
                      if (window.HighchartsEditor.hasLoaded) {cl();} 
                      else {window.HighchartsEditor.ondone.push(cl);}
                      }
                  
                  function isScriptAlreadyIncluded(src){
                      var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) {
                          if (scripts[i].hasAttribute("src")){
                              if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}
                                  }
                              }
                              return false;}
                  
                  function check() {
                      if (loaded === files.length) {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                          {try {window.HighchartsEditor.ondone[i]();} 
                          catch(e) {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}
                          }
                  
                  function include(script) {
                      function next() {++loaded;if (loaded < files.length) {include(files[loaded]);}check();}
                      if (isScriptAlreadyIncluded(script)) {return next();}
                          var sc=document.createElement("script");sc.src = script;sc.type="text/javascript";sc.onload=function() { next(); };
                          document.head.appendChild(sc);}function each(a, fn)
                              {if (typeof a.forEach !== "undefined"){a.forEach(fn);}
                              else{for (var i = 0; i < a.length; i++){if (fn) {fn(a[i]);}}}}
                              var inc = {},incl=[]; each(document.querySelectorAll("script"), function(t) 
                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                              function cl() {if(typeof window["Highcharts"] !== "undefined"){
                                  Highcharts.setOptions({lang:{}});
                                  var options={"title":{"text":"System 2"}, 
                                                  "subtitle":{"text":""},
                                                  "exporting":{"scale":1},
                                                  "chart":{"type":"column",
                                                          "polar":false},
                                                  "plotOptions":{"series":{"pointPadding":0.2,
                                                                          "groupPadding":0,
                                                                          "borderWidth":0,
                                                                          "shadow":false,
                                                                          "dataLabels":{"enabled":false},"animation":false}},
                                                                          "series":[{"name":"Tax Rate","turboThreshold":0,"marker":{}}],
                                                                          "data":{"csv":"\"Column 1\";\"Tax Rate (%)\"\n1;30\n2;32\n3;34.2\n4;36.4\n5;40.7\n6;45.8",
                                                                                  "googleSpreadsheetKey":false,
                                                                                  "googleSpreadsheetWorksheet":false},
                                                                          "pane":{"background":[]},
                                                                          "responsive":{"rules":[]},
                                                                          "legend":{"enabled":false},
                                                                          "tooltip":{},
                                                                          "lang":{},
                                                                          "credits":{"enabled": false},
                                                                          "xAxis":[{"categories": ["", "9", "15", "25", "40", "80", "125"], 
                                                                                  "title":{"text":"Initial Wealth (in points)"},
                                                                                  "labels":{}}],
                                                                          "yAxis":[{"title":{"text":"Tax rates (%)"},
                                                                                  "tickPositioner": function() {return yAxisLabels;},
                                                                                  "labels":{}}]};
                  new Highcharts.Chart("highcharts-2", options);}}})();
              </script>
          </th>
          <th class="tg-zv4m">
              <div id="highcharts-3" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (
                  function(){var yAxisLabels = [0,10,20,30,40,50,60,70,80,90,100];
                  /*
                  System 3
                  */
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],
                  loaded = 0; 
                  if (typeof window["HighchartsEditor"] === "undefined") {
                      window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};include(files[0]);
                      }
                          
                  else {
                      if (window.HighchartsEditor.hasLoaded) {cl();} 
                      else {window.HighchartsEditor.ondone.push(cl);}
                      }
                  
                  function isScriptAlreadyIncluded(src){
                      var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) {
                          if (scripts[i].hasAttribute("src")){
                              if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}
                                  }
                              }
                              return false;}
                  
                  function check() {
                      if (loaded === files.length) {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                          {try {window.HighchartsEditor.ondone[i]();} 
                          catch(e) {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}
                          }
                  
                  function include(script) {
                      function next() {++loaded;if (loaded < files.length) {include(files[loaded]);}check();}
                      if (isScriptAlreadyIncluded(script)) {return next();}
                          var sc=document.createElement("script");sc.src = script;sc.type="text/javascript";sc.onload=function() { next(); };
                          document.head.appendChild(sc);}function each(a, fn)
                              {if (typeof a.forEach !== "undefined"){a.forEach(fn);}
                              else{for (var i = 0; i < a.length; i++){if (fn) {fn(a[i]);}}}}
                              var inc = {},incl=[]; each(document.querySelectorAll("script"), function(t) 
                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                              function cl() {if(typeof window["Highcharts"] !== "undefined"){
                                  Highcharts.setOptions({lang:{}});
                                  var options={"title":{"text":"System 3"}, 
                                                  "subtitle":{"text":""},
                                                  "exporting":{"scale":1},
                                                  "chart":{"type":"column",
                                                          "polar":false},
                                                  "plotOptions":{"series":{"pointPadding":0.2,
                                                                          "groupPadding":0,
                                                                          "borderWidth":0,
                                                                          "shadow":false,
                                                                          "dataLabels":{"enabled":false},"animation":false}},
                                                                          "series":[{"name":"Tax Rate","turboThreshold":0,"marker":{}}],
                                                                          "data":{"csv":"\"Column 1\";\"Tax Rate (%)\"\n1;20\n2;24\n3;28.4\n4;32.8\n5;43.9\n6;51.5",
                                                                                  "googleSpreadsheetKey":false,
                                                                                  "googleSpreadsheetWorksheet":false},
                                                                          "pane":{"background":[]},
                                                                          "responsive":{"rules":[]},
                                                                          "legend":{"enabled":false},
                                                                          "tooltip":{},
                                                                          "lang":{},
                                                                          "credits":{"enabled": false},
                                                                          "xAxis":[{"categories": ["", "9", "15", "25", "40", "80", "125"], 
                                                                                  "title":{"text":"Initial Wealth (in points)"},
                                                                                  "labels":{}}],
                                                                          "yAxis":[{"title":{"text":"Tax rates (%)"},
                                                                                  "tickPositioner": function() {return yAxisLabels;},
                                                                                  "labels":{}}]};
                  new Highcharts.Chart("highcharts-3", options);}}})();
              </script>            
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="tg-zv4m">
              <div id="highcharts-4" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (
                  function(){var yAxisLabels = [0,10,20,30,40,50,60,70,80,90,100];
                  /*
                  System 4
                  */
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],
                  loaded = 0; 
                  if (typeof window["HighchartsEditor"] === "undefined") {
                      window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};include(files[0]);
                      }
                          
                  else {
                      if (window.HighchartsEditor.hasLoaded) {cl();} 
                      else {window.HighchartsEditor.ondone.push(cl);}
                      }
                  
                  function isScriptAlreadyIncluded(src){
                      var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) {
                          if (scripts[i].hasAttribute("src")){
                              if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}
                                  }
                              }
                              return false;}
                  
                  function check() {
                      if (loaded === files.length) {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                          {try {window.HighchartsEditor.ondone[i]();} 
                          catch(e) {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}
                          }
                  
                  function include(script) {
                      function next() {++loaded;if (loaded < files.length) {include(files[loaded]);}check();}
                      if (isScriptAlreadyIncluded(script)) {return next();}
                          var sc=document.createElement("script");sc.src = script;sc.type="text/javascript";sc.onload=function() { next(); };
                          document.head.appendChild(sc);}function each(a, fn)
                              {if (typeof a.forEach !== "undefined"){a.forEach(fn);}
                              else{for (var i = 0; i < a.length; i++){if (fn) {fn(a[i]);}}}}
                              var inc = {},incl=[]; each(document.querySelectorAll("script"), function(t) 
                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                              function cl() {if(typeof window["Highcharts"] !== "undefined"){
                                  Highcharts.setOptions({lang:{}});
                                  var options={"title":{"text":"System 4"}, 
                                                  "subtitle":{"text":""},
                                                  "exporting":{"scale":1},
                                                  "chart":{"type":"column",
                                                          "polar":false},
                                                  "plotOptions":{"series":{"pointPadding":0.2,
                                                                          "groupPadding":0,
                                                                          "borderWidth":0,
                                                                          "shadow":false,
                                                                          "dataLabels":{"enabled":false},"animation":false}},
                                                                          "series":[{"name":"Tax Rate","turboThreshold":0,"marker":{}}],
                                                                          "data":{"csv":"\"Column 1\";\"Tax Rate (%)\"\n1;10\n2;14\n3;20.4\n4;27.8\n5;46.4\n6;58.5",
                                                                                  "googleSpreadsheetKey":false,
                                                                                  "googleSpreadsheetWorksheet":false},
                                                                          "pane":{"background":[]},
                                                                          "responsive":{"rules":[]},
                                                                          "legend":{"enabled":false},
                                                                          "tooltip":{},
                                                                          "lang":{},
                                                                          "credits":{"enabled": false},
                                                                          "xAxis":[{"categories": ["", "9", "15", "25", "40", "80", "125"], 
                                                                                  "title":{"text":"Initial Wealth (in points)"},
                                                                                  "labels":{}}],
                                                                          "yAxis":[{"title":{"text":"Tax rates (%)"},
                                                                                  "tickPositioner": function() {return yAxisLabels;},
                                                                                  "labels":{}}]};
                  new Highcharts.Chart("highcharts-4", options);}}})();
              </script>
          </td>
          <td class="tg-zv4m">
              <div id="highcharts-5" style="min-width: 400px; height: 400px; margin: 0 auto"></div><script>
                  (
                  function(){var yAxisLabels = [0,10,20,30,40,50,60,70,80,90,100];
                  /*
                  System 4
                  */
                  var files = ["https://code.highcharts.com/stock/highstock.js","https://code.highcharts.com/highcharts-more.js","https://code.highcharts.com/highcharts-3d.js","https://code.highcharts.com/modules/data.js","https://code.highcharts.com/modules/exporting.js","https://code.highcharts.com/modules/funnel.js","https://code.highcharts.com/modules/annotations.js","https://code.highcharts.com/modules/accessibility.js","https://code.highcharts.com/modules/solid-gauge.js"],
                  loaded = 0; 
                  if (typeof window["HighchartsEditor"] === "undefined") {
                      window.HighchartsEditor = {ondone: [cl],hasWrapped: false,hasLoaded: false};include(files[0]);
                      }
                          
                  else {
                      if (window.HighchartsEditor.hasLoaded) {cl();} 
                      else {window.HighchartsEditor.ondone.push(cl);}
                      }
                  
                  function isScriptAlreadyIncluded(src){
                      var scripts = document.getElementsByTagName("script");
                      for (var i = 0; i < scripts.length; i++) {
                          if (scripts[i].hasAttribute("src")){
                              if ((scripts[i].getAttribute("src") || "").indexOf(src) >= 0 || (scripts[i].getAttribute("src") === "http://code.highcharts.com/highcharts.js" && src === "https://code.highcharts.com/stock/highstock.js")) 
                                  {return true;}
                                  }
                              }
                              return false;}
                  
                  function check() {
                      if (loaded === files.length) {for (var i = 0; i < window.HighchartsEditor.ondone.length; i++) 
                          {try {window.HighchartsEditor.ondone[i]();} 
                          catch(e) {console.error(e);}}window.HighchartsEditor.hasLoaded = true;}
                          }
                  
                  function include(script) {
                      function next() {++loaded;if (loaded < files.length) {include(files[loaded]);}check();}
                      if (isScriptAlreadyIncluded(script)) {return next();}
                          var sc=document.createElement("script");sc.src = script;sc.type="text/javascript";sc.onload=function() { next(); };
                          document.head.appendChild(sc);}function each(a, fn)
                              {if (typeof a.forEach !== "undefined"){a.forEach(fn);}
                              else{for (var i = 0; i < a.length; i++){if (fn) {fn(a[i]);}}}}
                              var inc = {},incl=[]; each(document.querySelectorAll("script"), function(t) 
                              {inc[t.src.substr(0, t.src.indexOf("?"))] = 1; }); 
                              function cl() {if(typeof window["Highcharts"] !== "undefined"){
                                  Highcharts.setOptions({lang:{}});
                                  var options={"title":{"text":"System 5"}, 
                                                  "subtitle":{"text":""},
                                                  "exporting":{"scale":1},
                                                  "chart":{"type":"column",
                                                          "polar":false},
                                                  "plotOptions":{"series":{"pointPadding":0.2,
                                                                          "groupPadding":0,
                                                                          "borderWidth":0,
                                                                          "shadow":false,
                                                                          "dataLabels":{"enabled":false},"animation":false}},
                                                                          "series":[{"name":"Tax Rate","turboThreshold":0,"marker":{}}],
                                                                          "data":{"csv":"\"Column 1\";\"Tax Rate (%)\"\n1;0\n2;0\n3;6\n4;26.3\n5;53.1\n6;66.4",
                                                                                  "googleSpreadsheetKey":false,
                                                                                  "googleSpreadsheetWorksheet":false},
                                                                          "pane":{"background":[]},
                                                                          "responsive":{"rules":[]},
                                                                          "legend":{"enabled":false},
                                                                          "tooltip":{},
                                                                          "lang":{},
                                                                          "credits":{"enabled": false},
                                                                          "xAxis":[{"categories": ["", "9", "15", "25", "40", "80", "125"], 
                                                                                  "title":{"text":"Initial Wealth (in points)"},
                                                                                  "labels":{}}],
                                                                          "yAxis":[{"title":{"text":"Tax rates (%)"},
                                                                                  "tickPositioner": function() {return yAxisLabels;},
                                                                                  "labels":{}}]};
                  new Highcharts.Chart("highcharts-5", options);}}})();
              </script>
          </td>
          <td class="tg-zv4m"></td>
        </tr>
      </tbody>
      </table>

{% endif %}




</div>
